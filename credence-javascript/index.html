<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Employee</title>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/5.0.0/css/bootstrap.min.css"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body  ng-app="crudApp" ng-controller="crudController" class="container" style="margin-top: 50px;">

    <div ng-if="success" class="alert alert-success" role="alert">{{message}}</div>
    <div  ng-if="fail" class="alert alert-danger" role="alert">{{message}}</div>
    <!-- List -->
    <div class="card" ng-if="count>0"> 
        <div class="card-header">
            <ul class="nav nav-pills w-100">
                <li class="nav-pill ml-auto" style="margin:10px">
                    <a class="nav-link active" ng-click="fetchData()">Show List</a>
                </li>
                <li class="nav-pill ml-auto" style="margin:10px">
                    <a class="nav-link active" ng-click="addEmployee()">Add Employee</a>
                </li>
            </ul>
        </div>
    <div class="card-body" ng-if="action=='List'">
        <th scope="col">Employee List</th>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">First Name</th>
                    <th scope="col">DOB</th>
                    <th scope="col">Gender</th>
                    <th scope="col">Net Salary</th>
                    <th width="200px">Action</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="e in empList">
                    <td>{{e.Empid}}</td>
                    <td>{{e.First_name}}</td>
                    <td>{{e.DOB}}</td>
                    <td>{{e.Gender}}</td>
                    <td>{{e.Net_sal}}</td>
                    <td>
                        <a class="btn btn-success edit" ng-click="fetchSingleData(e.Empid)">Edit</a>                       
                        <a class="btn btn-danger delete" ng-click="deleteData(e.Empid)" >Delete</a>                       
                    </td>
                </tr>
            </tbody>
        </table>
            <p class="text-center"  ng-if="count==0">No Employee found!</p>  
        </div>
    </div>
    <!-- END:List -->

    <!-- Create/Edit -->
    
    <div class="card"  ng-if="action=='Edit' || action=='Add'"> 
    	<div class="card-header">
			{{action}} Employee
		</div>
        <div class="card-body ">
            <form method="post" ng-submit="submitForm()">
                
                <div class="row">
                <div class="form-group col-md-4">
                    <label>First Name:</label>
                    <input type="text" class="form-control" name="First_name" ng-model="editForm.First_name" autocomplete="off" required>
                </div>
                <div class="form-group col-md-4">
                    <label>Middle Name:</label>
                    <input type="text" class="form-control" name="Middle_name" ng-model="editForm.Middle_name" autocomplete="off" required>
                </div>
                <div class="form-group col-md-4">
                    <label>Last Name:</label>
                    <input type="text" class="form-control" name="Last_name" ng-model="editForm.Last_name" autocomplete="off" required>
                </div>
                </div>
                
                <div class="row">
                <div class="form-group col-md-4">
                    <label>DOB:</label>
                    <input type="date" class="form-control" name="DOB" ng-model="editForm.DOB" autocomplete="off" required>
                </div>
                <div class="form-group col-md-4">
                    <label>Gender:</label>
                    <select class="form-select" name="Gender" ng-model="editForm.Gender" autocomplete="off" required>
                        <option value="M">M</option>
                        <option value="F">F</option>
                      </select>
                </div>
                </div>
                
                <div class="row">
                <div class="form-group col-md-4">
                    <label>Basic Salary:</label>
                    <input type="text" class="form-control" name="Basic" ng-model="editForm.Basic" autocomplete="off" required>
                </div>
                <div class="form-group col-md-4">
                    <label>Allowance:</label>
                    <input type="text" class="form-control" name="Allowance" ng-model="editForm.Allowance" autocomplete="off" required>
                </div>
                <div class="form-group col-md-4">
                    <label>Deduction:</label>
                    <input type="text" class="form-control" name="Deduction" ng-model="editForm.Deduction" autocomplete="off" required>
                </div>
                </div>
                <div class="form-group">
                    <input type="submit" class="btn btn-info" value="Save"/>
                </div>
            </form>
        </div>
    </div>
    <!-- END:Create/Edit -->

</body>
<script src="angular.min.js"></script>
<script src="service.js"></script>
</html>